{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            // Easier to attach than debug the daemon
            "name": "attach to running cedana daemon",
            "type": "go",
            "asRoot": true,
            "request": "attach",
            "mode": "local",
            "console": "integratedTerminal",
        },
        {
            "name": "debug cedana daemon-grpc",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "asRoot": true,
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}",
            "console": "integratedTerminal",
            "buildFlags": "-buildvcs=false",
            "args": ["daemon-grpc"],
            "env": {
                "PATH": "/usr/local/go/bin:/usr/bin:/usr/sbin",
                "CHECKPOINT_SERVICE_URL": "http://localhost:1324"
            },
        },
        {
            "name": "debug cedana dump",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}",
            "console": "integratedTerminal",
            "args": ["dump", "${input:promptForPID}"],
        },
        {
            "name": "debug cedana dump container",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}",
            "console": "integratedTerminal",
            "args": ["dump", "container", "-i","", "-p", "${input:promptForContainer}"],
            "env": {
                "PATH": "/usr/local/go/bin:/usr/bin:/usr/sbin"
            },
        },
        {
            "name": "debug cedana restore container",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}",
            "console": "integratedTerminal",
            "args": ["client", "restore", "-i", "containerd.io/checkpoint/test123456:09-19-2023-16:56:21", "-c", "${input:promptForContainer}"],
            "env": {
                "PATH": "/usr/local/go/bin:/usr/bin:/usr/sbin"
            },
        },
        {
            "name": "debug cedana restore runc",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}",
            "console": "integratedTerminal",
            "buildFlags": "-buildvcs=false",
            "args": ["debug", "runc", "/tmp/cedana_runc_test/", "container-restore-1"],
            "env": {
                "PATH": "/usr/local/go/bin:/usr/bin:/usr/sbin"
            },
        },
        {
            "name": "debug cedana dump runc",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}",
            "console": "integratedTerminal",
            "buildFlags": "-buildvcs=false",
            "args": ["debug", "runc-dump", "/tmp/cedana_runc_test/", "container-printer"],
            "env": {
                "PATH": "/usr/local/go/bin:/usr/bin:/usr/sbin"
            },
        },
        {
            "name": "debug cedana restore",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "program": "${fileDirname}",
            "console": "integratedTerminal",
            "args": ["restore", "${input:promptForCheckpoint}"],
        }, 
     {
            "name": "debug cedana container",
            "type": "go",
            "asRoot": true,
            "request": "launch",
            "mode": "debug",
            "program": "${fileDirname}",
            "console": "integratedTerminal",
            "args": ["client", "restore", "${input:promptForCheckpoint}"],
            "env": {
                "CEDANA_ORCH_ID": "orch123",
                "CEDANA_JOB_ID": "testjob",
                "CEDANA_CLIENT_ID": "client123",
                "CEDANA_AUTH_TOKEN": "test",
                "CEDANA_LOG_LEVEL": "0",
            },
        }, 
   
    ],
    "inputs": [
        {
            "id": "promptForPID",
            "type": "promptString",
            "description": "enter PID",
            "default": ""
        },
        {
            "id": "promptForContainer",
            "type": "promptString",
            "description": "enter container ID",
            "default": ""
        },
        {
            "id": "promptForCheckpoint",
            "type": "promptString",
            "description": "enter path to checkpoint zipfile",
            "default": ""
        },
        {
            "id": "promptForProgram",
            "type": "promptString",
            "description": "enter program to exec",
            "default": ""
        }
    ]
}