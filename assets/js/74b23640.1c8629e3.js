"use strict";(self.webpackChunkcedana_docs=self.webpackChunkcedana_docs||[]).push([[814],{9562:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var o=t(5893),a=t(1151);const i={"sidebar-position":1},r="Sandbox and Demo Environment",s={id:"demo",title:"Sandbox and Demo Environment",description:"Welcome! Thank you for taking the time to play around with Cedana. We\u2019ve deployed a test cluster for you to play with, at sandbox.cedana.ai. You can interact and experiment with the system using the instructions below!",source:"@site/docs/demo.md",sourceDirName:".",slug:"/demo",permalink:"/demo",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{"sidebar-position":1},sidebar:"apiSidebar",previous:{title:"Checkpointing Service API",permalink:"/setup/checkpointing-service-api"}},c={},d=[{value:"Trying out our Checkpoint/Restore Service",id:"trying-out-our-checkpointrestore-service",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"sandbox-and-demo-environment",children:"Sandbox and Demo Environment"}),"\n",(0,o.jsxs)(n.p,{children:["Welcome! Thank you for taking the time to play around with Cedana. We\u2019ve deployed a test cluster for you to play with, at ",(0,o.jsx)(n.code,{children:"sandbox.cedana.ai"}),". You can interact and experiment with the system using the instructions below!"]}),"\n",(0,o.jsx)(n.h2,{id:"trying-out-our-checkpointrestore-service",children:"Trying out our Checkpoint/Restore Service"}),"\n",(0,o.jsxs)(n.p,{children:["You can very quickly start playing with our checkpoint/restore service if you have a Kubernetes cluster you can access. If you don\u2019t, you can run a local ",(0,o.jsx)(n.code,{children:"k3d"})," instance (which effectively simulates Kubernetes locally) and attach to that."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'curl -X POST http://sandbox.cedana.ai/kubernetes/attach \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "key1": "value1",\n    "key2": "value2"\n  }\' \\\n  -F "file=@/path/to/your/kubeconfig"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The key value pairs are worker node name",":pod"," name key values if you want to limit Cedana management to only certain pods."]}),"\n",(0,o.jsxs)(n.p,{children:["Once Cedana is attached, a ",(0,o.jsx)(n.code,{children:"CustomResourceDefinition"})," called Cedana and a Kubernetes Operator called ",(0,o.jsx)(n.code,{children:"Cedana_Controller"})," are deployed to your kube cluster. You can now create an instance of the Cedana resource with the following schema:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    controller-gen.kubebuilder.io/version: v0.13.0\n  name: cedanas.core.cedana.ai\nspec:\n  group: core.cedana.ai\n  names:\n    kind: Cedana\n    listKind: CedanaList\n    plural: cedanas\n    singular: cedana\n  scope: Namespaced\n  method: checkpoint \n  sandboxName: some-sandbox-id-from-kubectl-get-pods\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"sandboxName"})," here is the id of the pod, given by ",(0,o.jsx)(n.code,{children:"kubectl get pods"}),". Apply the spec above to the cluster with:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"kubectl apply -f file.yaml\n"})}),"\n",(0,o.jsx)(n.p,{children:"to conduct a checkpoint, which creates one and pushes it to our blob storage."}),"\n",(0,o.jsx)(n.p,{children:"Similarly, to restore you modify the same CRD based of the Metadata Name and change the method in the spec to be \u201crestore\u201d. Choose you pod and container name to restore to and your checkpoint will be restored under the networking of the specified pod."})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>r});var o=t(7294);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);